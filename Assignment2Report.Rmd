---
title: "Data Mining - Assignment 2"
author: "İlayda ÇAVUŞOĞLU ASGHARI DILMANI"
output: 
  html_document: 
    theme: cosmo
    number_sections: yes
    df_print: kable
---

# Data Information

This data contains some information about house information in Antalya. This data contains **25276** rows and **24** columns. Column names and their types are given in the following table:

```{r}
load("house.data")
data <- antalya_train
dataFrame <- data.frame(data)
knitr::kable(sapply(dataFrame, class), col.names = c("Column Types"))
```

There are also some empty values in columns. They are converted to **NA** values. **NA** numbers for each column are given in the following table. 

```{r}
knitr::kable(colSums(is.na(dataFrame)), col.names = c("NA Numbers"))
```

As it can be seen only the "GercekYas" column has NA values. 

## Data Modification

* The first modification is converting the "empty" entry to NA. So it makes easier to handle such data.

* "MustakilMi" field is a boolean-like field. This column contains 0 and 1. This column is converted to a factor with yes (for 1) and no (for 0) levels. 

* A new column that is called "OdaBilgisi" defined. Because generally houses are defined with both room and sitting room number. By inspiring that the "OdaSayisi" and "SalonSayisi" columns are merged. After that this column is converted to factor. This factor can get several fields these are: **"3 + 1", "2 + 1", "3 + 2", "4 + 1", "1 + 1", "5 + 1", "7 + 1", "4 + 2", "6 + 2", "6 + 1", "5 + 2", "7 + 2", "2 + 2", "6 + 3", "4 + 4", "4 + 3", "2 + 0", "1 + 0", "8 + 2", "4 + 0", "9 + 1", "8 + 1", "1 + 2", "3 + 3", "5 + 5", "5 + 3", "5 + 4", "8 + 4", "1 + 3"**. After this step "OdaSayisi", "Salon Sayisi" and "ToplamOdaSayisi" columns are removed.

* It is realized that some fields are indicating same attribute. These fields are indicated with numbers 1 and 0. If that field is 1, it means this entry contains that attribute and the other way around. In short, it acts like a boolean field.   

**"ManzaraGol", "ManzaraDeniz", "ManzaraBogaz", "ManzaraSehir" and "ManzaraDoga" Fields**
 These five fields indicates the same attribute of the data that is the view attribute. Instead of using five different boolean-like columns, it can be merged as a factor column. That column is called "Manzara". The inital four "Cephe*" columns are removed from the data. It can take following values: 
 
|Manzara                | Count  |
|:----------------------|-------:|
|Doga                   |      17|
|ManazaraYok            |      26|
|DenizDoga              |       7|
|Deniz                  |      23|
|BogazDoga              |     332|
|DenizBogazDoga         |       6|
|DenizBogaz             |      16|
|GolDoga                |       8|
|GolBogazDoga           |      16|
|Gol                    |     511|
|Bogaz                  |     230|
|GolDenizDoga           |     518|
|GolBogaz               |    2863|
|BogazSehirDoga         |      14|
|Sehir                  |       1|
|SehirDoga              |       1|
|DenizSehir             |       1|
|DenizSehirDoga         |       1|
|DenizBogazSehirDoga    |       6|
|GolDenizBogazSehirDoga |       1|
|GolSehir               |       1|
|GolBogazSehir          |       6|
|GolDenizSehirDoga      |       8|
|DenizBogazSehir        |      10|
|BogazSehir             |       2|
|GolDenizSehir          |   13705|
|GolSehirDoga           |    2882|
|GolDeniz               |    2216|

For some rows, all of the initial "Manzara" columns are 0. It is considered as there is no view at all. Taht factor is called "ManzaraYok". 

**"CepheBati", "CepheDogu", "CepheGuney" and "CepheKuzey" Fields**: These four fields indicates the same attribute of the data that is the side attribute. Instead of using four different boolean-like columns, it can be merged as a factor column. That column is called "Cephe". The inital four "Cephe*" columns are removed from the data. It can take following values:
  
|Cephe              | Count  |
|:------------------|-------:|
|GuneyDogu          |     245|
|Bati               |     256|
|KuzeyGuneyDogu     |     267|
|GuneyDoguBati      |    1489|
|KuzeyGuneyDoguBati |    2148|
|KuzeyDoguBati      |    3197|
|KuzeyDogu          |    2558|
|KuzeyGuneyBati     |     148|
|GuneyBati          |     948|
|KuzeyBati          |    1048|
|DoguBati           |    1470|
|Guney              |     399|
|Dogu               |    2790|
|KuzeyGuney         |    3676|
|Kuzey              |    2789|

 Yet it is realized that some column's "CepheBati", "CepheDogu", "CepheGuney" and "CepheKuzey" are all 0. For those kind of data "Cephe" fields are set to NA. Number of NA values for "Cephe" column is **3428**. It can be considered as some serious number of data. Instead of deleting those data, it is tried to be filled. First of all is is considered as "KuzeyGuneyDoguBati" if the "MustakilMi" column's value is "yes". Otherwise the  most related columns are tried to be found (Gini estimator is used.): 
 
|              |CepheKuzey    |CepheGuney    |CepheDogu     |CepheBati     |
|:-------------|--------------|--------------|--------------|-------------:|
|Ilce          | **0.0254242**| 0.0061184    | **0.0089700**| **0.0078112**|
|Mahalle       | **0.0443875**| **0.0226389**| **0.0213966**| **0.0202633**|
|MustakilMi    | 0.0009665    | 0.0003547    | 0.0011038    | 0.0017228    |
|OrijinalAlan  | 0.0123646    | 0.0065836    | 0.0034200    | 0.0034699    |
|AlanMetrekare | 0.0123570    | 0.0062361    | 0.0032774    | 0.0033828    |
|BanyoSayisi   | 0.0015910    | 0.0018118    | 0.0002022    | 0.0009455    |
|FiyatTL       | 0.0038907    | 0.0043745    | 0.0009105    | 0.0005756    |
|ToplamKat     | 0.0005785    | 0.0016701    | 0.0001222    | 0.0006236    |
|BulunduguKat  | 0.0010074    | 0.0010162    | 0.0004923    | 0.0003838    |
|GercekYas     | 0.0020330    | 0.0003702    | 0.0005473    | 0.0003022    |
|CepheBati     | **0.0204956**| **0.0118641**| 0.0034406    | -            |
|CepheDogu     | **0.0216051**| **0.0253396**| -            | 0.0035100    |
|CepheGuney    | 0.0014582    | -            | **0.0294348**| **0.0140594**|
|CepheKuzey    | -            | 0.0012306    | **0.0211797**| **0.0204972**|
|Isitma        | 0.0053332    | 0.0013525    | 0.0008965    | 0.0010985    |
|OdaBilgisi    | 0.0168020    | **0.0072207**| 0.0057354    | 0.0062768    |
|Manzara       | 0.0042536    | 0.0052831    | 0.0032078    | 0.0031190    |

Here as it can be seen from the table each "Cephe-" columns there are different related attributes. Data is filtered for each columns by using top four attributes. If such data exist then the most used "Cephe-" value is added to the "Cephe" tag. Let's take "CepheKuzey" as an example. Attributes "Ilce", "Mahalle", "CepheBati" and "CepheDogu" are
the most related attributes for "CepheKuzey" column. This is why rows whose data mathes with a row, whose "CepheKuzey" attribute is NA, are found. After that the most common "CepheKuzey" value is used to fill the NA field.


